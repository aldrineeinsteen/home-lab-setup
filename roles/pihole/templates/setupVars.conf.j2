# setupVars.conf for Pi-hole unattended installation
# Generated by Ansible - Do not edit manually
# NOTE: Most settings are now configured via pihole-FTL --config commands
# This file contains only the minimum required installation parameters

# Network Interface and IP Configuration
PIHOLE_INTERFACE={{ pihole_interface }}
IPV4_ADDRESS={{ ansible_default_ipv4.address }}/{{ ansible_default_ipv4.netmask }}
IPV6_ADDRESS=

# Default DNS servers (will be reconfigured via pihole-FTL --config)
{% for dns_server in pihole_dns_servers | default(['1.1.1.1', '1.0.0.1']) %}
PIHOLE_DNS_{{ loop.index }}={{ dns_server }}
{% endfor %}

# Web Interface Installation Settings
INSTALL_WEB_SERVER=false
INSTALL_WEB_INTERFACE={{ pihole_web_interface | default(true) | bool | lower }}
LIGHTTPD_ENABLED=false

# Basic Installation Settings (will be reconfigured post-install)
QUERY_LOGGING=true
CACHE_SIZE=10000
DNS_FQDN_REQUIRED=true
DNS_BOGUS_PRIV=true
DNSMASQ_LISTENING=single
WEBPASSWORD=

# DHCP Installation Settings (will be reconfigured via pihole-FTL --config)
DHCP_ACTIVE=false
{% if pihole_dhcp_enabled | default(false) | bool %}
# Initial DHCP settings (will be properly configured via FTL)
DHCP_START={{ pihole_dhcp_start }}
DHCP_END={{ pihole_dhcp_end }}  
DHCP_ROUTER={{ pihole_dhcp_router }}
DHCP_LEASETIME={{ pihole_dhcp_lease_time | default('24h') }}
DHCP_IPv6=false
DHCP_rapid_commit=false
{% endif %}

# Network Configuration (basic setup)
{% if pihole_network_postfix is defined %}
PIHOLE_DOMAIN={{ pihole_network_postfix }}
{% endif %}

# Privacy and Blocking Settings (will be reconfigured via FTL)
PRIVACY_LEVEL=0
BLOCKING_ENABLED=true

# API Settings (will be reconfigured post-install)
API_EXCLUDE_DOMAINS=
API_EXCLUDE_CLIENTS=
API_QUERY_LOG_SHOW=all
API_PRIVACY_MODE=false

# Installation Notes:
# - Most configuration is done post-install via pihole-FTL --config commands
# - This file is primarily for the initial installation process
# - Post-install configuration provides better control and modern API usage